/*! This file is created by fangbao */
webpackJsonp([4],{589:function(e,t,n){n(624);var a=n(5)(n(604),n(644),"data-v-43eb85e3",null);a.options.__file="/Users/gaoyanru/Documents/wanglibao/BBS/src/views/personInfoEdit.vue",a.esModule&&Object.keys(a.esModule).some(function(e){return"default"!==e&&"__esModule"!==e}),a.options.functional,e.exports=a.exports},597:function(e,t,n){e.exports=n.p+"imgs/arrow_right.3fed16d.png"},604:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=n(134),i=n(71),r=n(62),s=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={components:{WlbHeader:a.WlbHeader,SelectAvatar:a.SelectAvatar,ScrollWrapper:a.ScrollWrapper},data:function(){return{userInfo:{},allHeadImgs:{},nickname:"",changed:!1,index:1}},computed:{},created:function(){var e=this;i.loading.show(!0,"full"),this.$http([{url:this.$api.api_list,method:"getBbsUserInfo",params:[{}]},{url:this.$api.api_list,method:"getBbsUserAllHeadImg",params:[{}]}]).then(function(t){e.userInfo=t[0].data.result.data,e.allHeadImgs=t[1].data.result.data,setTimeout(function(){e.changed=!1},0),i.loading.show(!1)})},mounted:function(){var e=this;s.default.$on("select-avatar",function(t){e.userInfo.head_img=e.allHeadImgs[t],e.index=t})},watch:{userInfo:{deep:!0,handler:function(e){this.changed=!0}}},methods:{editAvatar:function(){e("input").blur(),s.default.$emit("show-select-avatar-page")},save:function(){this.changed&&(this.changed=!1,i.loading.show(!0),this.$http([{url:this.$api.api_list,method:"updateBbsUserHeadimg",params:[{head_img:this.index}]},{url:this.$api.api_list,method:"updateBbsUserNickname",params:[{nickname:this.userInfo.nickname}]}]).then(function(e){i.loading.show(!1);var t;if(e[1].data.result){var n=e[1].data.result.code;t=e[1].data.result.data,0===n?i.ruleModal.show({content:"信息修改成功",style:"text-align: center"}):i.ruleModal.show({content:t,style:"text-align: center"})}e[1].data.error&&(t=e[1].data.error.message,i.ruleModal.show({content:t,style:"text-align: center"}))}))}},destroyed:function(){s.default.$off("show-select-avatar-page")}}}).call(t,n(35))},613:function(e,t,n){t=e.exports=n(580)(void 0),t.push([e.i,"\n.view[data-v-43eb85e3] {\n  background: #fff;\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  overflow: hidden;\n  height: 100%;\n}\n.view .edit-section .item[data-v-43eb85e3] {\n    border-bottom: 1px solid #e5e5e5;\n    padding: .3rem .3rem .3rem .4rem;\n    overflow: hidden;\n}\n.view .edit-section .photo-title[data-v-43eb85e3] {\n    height: .8rem;\n    line-height: .8rem;\n    font-size: .3rem;\n    color: #666;\n}\n.view .edit-section .photo-right .photo[data-v-43eb85e3] {\n    margin-right: .26rem;\n    width: .8rem;\n    height: .8rem;\n}\n.view .edit-section .photo-right .right[data-v-43eb85e3] {\n    margin-top: .27rem;\n    width: .26rem;\n    height: .26rem;\n    background: url("+n(597)+") no-repeat 0 0/0.26rem 0.26rem;\n}\n.view .edit-section .name-title[data-v-43eb85e3] {\n    height: .42rem;\n    line-height: .42rem;\n    font-size: .3rem;\n    color: #666;\n}\n.view .edit-section .name-right[data-v-43eb85e3] {\n    margin-right: .54rem;\n    height: .42rem;\n    line-height: .42rem;\n    font-size: .3rem;\n    color: #9b9b9b;\n    border: 0;\n    text-align: right;\n}\n.view .edit-btn[data-v-43eb85e3] {\n    padding-top: 1.74rem;\n    text-align: center;\n    background: #fff;\n}\n.view .edit-btn .btn[data-v-43eb85e3] {\n      border: none;\n      outline: none;\n      width: 5.86rem;\n      height: .9rem;\n      line-height: .9rem;\n      background: #ccc;\n      border-radius: 100px;\n      font-size: .3rem;\n      color: #fff;\n}\n.view .edit-btn .changed[data-v-43eb85e3] {\n      background: #5db5f2;\n}\n",""])},624:function(e,t,n){var a=n(613);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n(581)("af1ee988",a,!1)},644:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"view"},[a("wlb-header",[a("span",{slot:"title"},[e._v("个人中心")])]),e._v(" "),a("scroll-wrapper",[a("div",{staticClass:"scroll"},[a("div",{staticClass:"edit-section"},[a("div",{staticClass:"item",on:{click:function(t){e.editAvatar()}}},[a("span",{staticClass:"photo-title"},[e._v("头像")]),e._v(" "),a("div",{staticClass:"photo-right fr"},[a("span",{staticClass:"right fr"}),e._v(" "),a("img",{directives:[{name:"lazyload",rawName:"v-lazyload",value:{placeholder:n(70)},expression:"{ placeholder: require('../imgs/avatar_defult_big.png') }"}],staticClass:"photo fr",attrs:{src:e.userInfo.head_img}})])]),e._v(" "),a("div",{staticClass:"item"},[a("span",{staticClass:"name-title fl"},[e._v("昵称")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.userInfo.nickname,expression:"userInfo.nickname"}],staticClass:"name-right fr",domProps:{value:e.userInfo.nickname},on:{input:function(t){t.target.composing||(e.userInfo.nickname=t.target.value)}}})])]),e._v(" "),a("div",{staticClass:"edit-btn"},[a("button",{class:["btn",{changed:e.changed}],on:{click:e.save}},[e._v("保存")])])])]),e._v(" "),a("select-avatar",{attrs:{data:e.allHeadImgs}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});