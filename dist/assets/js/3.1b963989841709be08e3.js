/*! This file is created by fangbao */
webpackJsonp([3],{590:function(t,e,a){a(620);var n=a(5)(a(605),a(640),"data-v-0682e644",null);n.options.__file="/Users/gaoyanru/Documents/wanglibao/BBS/src/views/personNews.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),n.options.functional,t.exports=n.exports},605:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(134);e.default={components:{ScrollWrapper:n.ScrollWrapper,WlbHeader:n.WlbHeader,NewsItem:n.NewsItem,Loadmore:n.Loadmore,NoMore:n.NoMore},data:function(){return{data:[],page:1,lastPage:1,nomore:!1}},created:function(){var t=this;this.$plugin.loading.show(!0,"full"),this.loadData(function(){t.$plugin.loading.show(!1)})},computed:{allLoaded:function(){return this.nomore}},methods:{loadData:function(t){var e=this;this.$http({url:this.$api.api_list,method:"getBbsUserPm",params:[{pageNum:this.$const.BBS_USER_PM_PAGE_NUM,page:this.page}]}).then(function(a){e.page+=1,e.lastPage=a.data.result.data.last_page,e.lastPage+1>=e.page&&(2===e.page?e.data=a.data.result.data.list:e.data=e.data.concat(a.data.result.data.list)),e.lastPage<e.page?e.nomore=!0:e.nomore=!1,t&&t()})},loadTop:function(){var t=this;this.page=1,this.$plugin.loading.show(!0),this.loadData(function(){t.$plugin.loading.show(!1),t.$refs.loadmore.$children[0].onTopLoaded()})},loadBottom:function(){var t=this;if(this.page>this.lastPage)return"";this.$plugin.loading.show(!0),this.loadData(function(){t.$plugin.loading.show(!1),t.$refs.loadmore.$children[0].onBottomLoaded()})},doDel:function(){var t=this;this.$rulemodal.show(!1),this.$http({url:this.$api.api_list,method:"delBbsUserAllPm",params:[{}]}).then(function(e){t.data=[],t.$rulemodal.show({content:"已全部删除了消息",style:"text-align: center"})})},allDel:function(){var t=this;0===this.data.length?this.$rulemodal.show({content:"没有可删除的消息",style:"text-align: center"}):this.$rulemodal.show({content:"已全部删除了消息",style:"text-align: center",ok:{callback:function(){t.doDel()}}})}}}},609:function(t,e,a){e=t.exports=a(580)(void 0),e.push([t.i,"\n.rightBtnText[data-v-0682e644] {\n  font-family: PingFangSC-Regular;\n  font-size: .26rem;\n  line-height: .37rem;\n  color: #FFFFFF;\n  letter-spacing: 0;\n}\n.empty[data-v-0682e644] {\n  position: absolute;\n  top: 50%;\n  margin-top: -1.5rem;\n  width: 100%;\n  height: 3rem;\n  text-align: center;\n  background: url("+a(636)+") no-repeat center 0/3rem 3rem;\n}\n.empty div[data-v-0682e644] {\n    padding-top: 2.7rem;\n    font-family: PingFangSC-Light;\n    font-size: .24rem;\n    color: #999;\n    letter-spacing: 0.01re;\n}\n",""])},620:function(t,e,a){var n=a(609);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a(581)("3af4166a",n,!1)},636:function(t,e,a){t.exports=a.p+"imgs/message_defult.ac27ae8.png"},640:function(t,e,a){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"view"},[a("wlb-header",[a("span",{slot:"title"},[t._v("我的消息")]),t._v(" "),a("span",{staticClass:"rightBtnText",on:{click:t.allDel},slot:"right"},[t._v("全部删除")])]),t._v(" "),a("scroll-wrapper",[t.data.length?a("loadmore",{ref:"loadmore",attrs:{"cb-load-top":t.loadTop,"cb-load-bottom":t.loadBottom,"all-loaded":t.allLoaded}},[a("div",{staticStyle:{"min-height":"8rem"}},[t._l(t.data,function(t,e){return a("news-item",{key:e,attrs:{item:t}})}),t._v(" "),t.data.length>0?a("no-more",{attrs:{visible:t.nomore}}):t._e()],2)]):t._e(),t._v(" "),0===t.data.length?a("div",{staticClass:"empty"},[a("div",[t._v("还没有消息哦")])]):t._e()],1)],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});