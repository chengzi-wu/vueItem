/*! This file is created by fangbao */
webpackJsonp([10],{583:function(t,n,e){e(621);var i=e(5)(e(598),e(641),"data-v-104766b0",null);i.options.__file="/Users/gaoyanru/Documents/wanglibao/BBS/src/views/TopicAdd.vue",i.esModule&&Object.keys(i.esModule).some(function(t){return"default"!==t&&"__esModule"!==t}),i.options.functional,t.exports=i.exports},598:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(134),o=e(29),a=e(90);n.default={components:{WlbHeader:i.WlbHeader},data:function(){return{active:!0,title:"",content:"",num:500,publicEnd:!0,open:!1}},computed:{boardName:function(){return this.$route.params.name}},created:function(){this.$route.params.id||this.$router.replace({name:"index"})},mounted:function(){},methods:{checkType:function(t){this.active=t},toPublic:function(){var t=this;this.content=this.content.toString(),!1!==this.publicEnd&&""!==this.content&&(this.publicEnd=!1,this.$http({url:this.$api.api_list,method:"BbsPublishThread",params:[{type_id:this.$route.params.id,title:"网利社区",content:this.content}]}).then(function(n){if(t.publicEnd=!0,n.data.result&&0===n.data.result.code)(0,a.Toast)({message:"帖子发布成功，已提交后台审核",duration:1500}),setTimeout(function(){t.$router.push({name:"index"})},1e3);else if(n.data.error&&4004===n.data.error.code)(0,a.Toast)({message:"用户未登录，请登陆后进行发帖",duration:1500}),setTimeout(function(){o.wlb.ready({app:function(t){t.loginApp({refresh:1,url:window.location.href+""})},other:function(){window.location.href=o.api.host+"/wechat/verify?next="+window.location.href+"?source=app"}})},1e3);else{var e=n.data.error.message;(0,a.Toast)({message:e,duration:1500}),setTimeout(function(){t.$router.push({name:"index"})},1e3)}}))}},watch:{content:function(){var t=this.content.length;this.num=500-t>0?500-t:0,this.content=this.content.substring(0,500)}}}},610:function(t,n,e){n=t.exports=e(580)(void 0),n.push([t.i,"\n.view[data-v-104766b0] {\n  left: 0;\n  top: 0;\n  position: absolute;\n  z-index: 0;\n  display: block;\n  width: 100%;\n  height: 100%;\n  background: #fff;\n}\n.view .disable[data-v-104766b0] {\n    background-color: #E5E5E5 !important;\n}\n.view .disable span[data-v-104766b0] {\n      color: #ffffff !important;\n}\n.view .scroll-view[data-v-104766b0] {\n    margin-top: .96rem;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    overflow-x: hidden;\n    overflow-y: scroll;\n    right: 0;\n    -webkit-overflow-scrolling: touch;\n    will-change: scroll-position;\n    contain: size style layout;\n}\n.view .topic-text-title[data-v-104766b0] {\n    width: 6.9rem;\n    padding: 0 .3rem;\n    height: 1rem;\n    border: 0;\n    font-family: PingFangSC-Light;\n    font-size: .36rem;\n    color: #9B9B9B;\n}\n.view .line[data-v-104766b0] {\n    border-bottom: 1px solid #E5E5E5;\n}\n.view .topic-text-content[data-v-104766b0] {\n    background-attachment: fixed;\n    resize: none;\n    outline: none;\n    display: block;\n    width: 6.3rem;\n    border: 0;\n    padding: .3rem;\n    margin: .3rem;\n    font-family: PingFangSC-Light;\n    font-size: .3rem;\n    color: #9B9B9B;\n    line-height: .42rem;\n    min-height: 3.1rem;\n    overflow-y: visible;\n    border: 1px solid #ccc;\n    border-radius: 9px;\n}\n.view .topic-footer[data-v-104766b0] {\n    padding: 0 .3rem .3rem;\n    height: .7rem;\n}\n.view .topic-footer .residue[data-v-104766b0] {\n      font-family: PingFangSC-Light;\n      color: #9B9B9B;\n      font-size: .24rem;\n      line-height: .7rem;\n}\n.view .topic-footer .btn[data-v-104766b0] {\n      width: 2rem;\n      height: .7rem;\n      background: #10A6E2;\n      border-radius: 100px;\n      text-align: center;\n      line-height: .7rem;\n      float: right;\n}\n.view .topic-footer .btn span[data-v-104766b0] {\n        font-family: PingFangSC-Light;\n        font-size: .3rem;\n        color: #FFFFFF;\n        letter-spacing: 0;\n}\n.view .topic-edit-foot[data-v-104766b0] {\n    width: 100%;\n    position: fixed;\n    bottom: 0;\n    background: #F5F9FC;\n    border: 1px solid #A1AFB4;\n    padding: 0 .3rem;\n    height: .8rem;\n    box-sizing: border-box;\n    z-index: 1;\n}\n.view .topic-edit-foot[data-v-104766b0]::before {\n      display: block;\n      content: '';\n}\n.view .topic-edit-foot .topic-edit-type[data-v-104766b0] {\n      width: 2.36rem;\n      height: .52rem;\n      border: 1px solid #D7D7D7;\n      border-radius: 100px;\n      overflow: hidden;\n      float: left;\n      margin-top: .12rem;\n}\n.view .topic-edit-foot .topic-edit-type span[data-v-104766b0] {\n        float: left;\n        width: 1.18rem;\n        text-align: center;\n        height: .52rem;\n        line-height: .52rem;\n        color: #12A5E2;\n        font-family: PingFangSC-Regular;\n        font-size: .24rem;\n}\n.view .topic-edit-foot .topic-edit-type .active[data-v-104766b0] {\n        background-color: #12A5E2;\n        color: #FFFFFF;\n}\n.view .topic-edit-foot .topic-edit-sub[data-v-104766b0] {\n      float: right;\n      line-height: .8rem;\n      font-family: PingFangSC-Regular;\n      font-size: .3rem;\n      color: #12A5E2;\n      letter-spacing: 0;\n}\n",""])},621:function(t,n,e){var i=e(610);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e(581)("47031580",i,!1)},641:function(t,n,e){t.exports={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"view"},[e("wlb-header",{staticStyle:{position:"absolute",top:"0",width:"100%",height:".96rem"},attrs:{options:{title:t.boardName}}}),t._v(" "),e("div",{staticClass:"scroll-view"},[e("div",{staticStyle:{height:"10  .96rem"}}),t._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",staticClass:"topic-text-content",attrs:{placeholder:"请输入发帖内容"},domProps:{value:t.content},on:{input:function(n){n.target.composing||(t.content=n.target.value)}}}),t._v(" "),e("div",{staticClass:"topic-footer"},[e("span",{staticClass:"residue"},[t._v("你还可以输入"+t._s(t.num)+"字")]),t._v(" "),e("div",{class:["btn",{disable:!t.publicEnd||!t.content}],on:{click:t.toPublic}},[e("span",[t._v(t._s(t.publicEnd?"发表":"发表中..."))])])])])],1)},staticRenderFns:[]},t.exports.render._withStripped=!0}});